<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>募金フォーム</title>
</head>
<body>

    <div id="donation">
        <h2>募金フォーム</h2>

        <form id="donationFormContent">
            <label for="nickname">あなたのニックネーム</label><br>
            <input type="text" id="nickname" name="nickname" required><br><br>

            <label for="amount">募金金額</label><br>
            <input type="number" id="amount" name="amount" required><br><br>

            <button type="submit">送信</button>
        </form>
    </div>

    <script>
        // フォーム送信時の処理
        document.getElementById("donationFormContent").addEventListener("submit", function(event) {
            event.preventDefault(); // デフォルトのフォーム送信を防止

            // フォームからデータを取得
            const nickname = document.getElementById('nickname').value;
            const amount = document.getElementById('amount').value;
            const timestamp = new Date().toLocaleString();

            // Discord Webhook URL（作成したWebhook URLを貼り付けてください）
            const webhookUrl = 'https://discord.com/api/webhooks/1326041343792775251/g85LtYmGlHPdldqkejyvYYw4oPvI64zWtSWa6hFDrZ2TWyagdW2tDxGlGbHV0krv2ipY'; // Webhook URLを貼り付け

            // 送信するデータを作成
            const data = {
                content: `** ${nickname}**様\n募金ありがとうございます！`,
                embeds: [{
                    title: "募金情報",
                    fields: [
                        { name: "署名", value: nickname, inline: true },
                        { name: "日時", value: timestamp, inline: true }
                    ],
                    color: 3066993 // 青色のEmbedを指定（オプション）
                }]
            };

            // Webhookにデータを送信
            fetch(webhookUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(data)
            })
            .then(response => {
                if (response.ok) {
                    alert("募金情報が送信されました！");
                    // 送信後の画面処理（必要に応じて）
                } else {
                    alert("送信に失敗しました。再度お試しください。");
                }
            })
            .catch(error => {
                alert("エラーが発生しました。再度お試しください。");
            });
        });
    </script>

</body>
</html>
